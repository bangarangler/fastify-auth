(this["webpackJsonpfastify-auth-ui"]=this["webpackJsonpfastify-auth-ui"]||[]).push([[0],{36:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),s=n(28),o=n.n(s),c=(n(36),n(17)),u=n(9),i=n(10),l=n(11),p=n.n(l),f=n(14),d=n(60),j=n(29),b=n.n(j).a.create({headers:{"Content-Type":"application/json"},withCredentials:!0});var v,g=n(3);!function(e){e[e.FIELD=0]="FIELD"}(v||(v={}));var h,m=function(e,t){switch(t.type){case v.FIELD:return Object(i.a)(Object(i.a)({},e),{},Object(u.a)({},t.field,t.value))}},O={email:"",password:""},w=function(){var e=Object(a.useReducer)(m,O),t=Object(c.a)(e,2),n=t[0],r=t[1],s=n.email,o=n.password,u=(console.log("running useLogin"),Object(d.a)(function(){var e=Object(f.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.post("".concat("https://fastify-auth.dev","/api/register"),t);case 3:if(n=e.sent,a=n.data,console.log("data from useRegister",a),!a.data){e.next=8;break}return e.abrupt("return",a.data);case 8:e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(0),console.log("err from useRegister",e.t0.response.data),new Error(e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())).mutate;return Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u({email:s,password:o})},children:[Object(g.jsx)("input",{type:"email",value:s,onChange:function(e){return r({type:v.FIELD,field:"email",value:e.target.value})}}),Object(g.jsx)("input",{type:"password",value:o,onChange:function(e){return r({type:v.FIELD,field:"password",value:e.target.value})}}),Object(g.jsx)("button",{type:"submit",children:"Register"})]})};!function(e){e[e.FIELD=0]="FIELD"}(h||(h={}));var x=function(e,t){switch(t.type){case h.FIELD:return Object(i.a)(Object(i.a)({},e),{},Object(u.a)({},t.field,t.value))}},y={email:"",password:""},L=function(){var e,t=Object(a.useReducer)(x,y),n=Object(c.a)(t,2),r=n[0],s=n[1],o=r.email,u=r.password,i=(e={onSuccess:function(e){console.log("data from login",e)},onError:function(e){console.log("err from login",e)}},console.log("running useLogin"),Object(d.a)(function(){var e=Object(f.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.post("".concat("https://fastify-auth.dev","/api/authorize"),t);case 3:if(n=e.sent,a=n.data,console.log("data from useLogin",a),!a.data){e.next=8;break}return e.abrupt("return",a.data);case 8:e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(0),console.log("err from useLogin",e.t0.response.data),new Error(e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),e)).mutate;return Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i({email:o,password:u})},children:[Object(g.jsx)("input",{type:"email",value:o,onChange:function(e){return s({type:h.FIELD,field:"email",value:e.target.value})}}),Object(g.jsx)("input",{type:"password",value:u,onChange:function(e){return s({type:h.FIELD,field:"password",value:e.target.value})}}),Object(g.jsx)("button",{type:"submit",children:"Login"})]})};n(57);var D=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(w,{}),Object(g.jsx)(L,{})]})},E=n(59),F=n(30),I=n(31),C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),s(e),o(e)}))},k=new E.a;o.a.render(Object(g.jsxs)(F.a,{client:k,children:[Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(D,{})}),Object(g.jsx)(I.ReactQueryDevtools,{initialIsOpen:!1})]}),document.getElementById("root")),C()}},[[58,1,2]]]);
//# sourceMappingURL=main.e4b45fa2.chunk.js.map